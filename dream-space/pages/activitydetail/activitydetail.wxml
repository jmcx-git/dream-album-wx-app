<view class="all_views">
    <image class="img" mode="aspectFill" src="{{cover}}"></image>
    <view class="title">{{title}}</view>
    <view class="description">{{introduction}}</view>
    <view class="actinfos">
      <view class='deadline'>
        <image src="{{showicon}}" class="icon_inner"></image>
        <block wx:if="{{step == 1}}">
          <view class="txt_label">距结束
          <text class="keyword">{{stepTime}}</text>
          {{stepTimeUnit}}</view>
        </block>
        <block wx:else>
          <view class="txt_label">{{stepDesc}}</view>
        </block>
      </view>
      <view class="actwidth"/>
      <view class="participate txt_label"><text class="keyword">{{participates}}</text>人参加</view>
    </view>

    <!-- 中奖名单, 根据isShowWinnerList 判断是否显示 -->
    <view class="listofwinners dashedline" wx:if="{{isShowWinnerList}}">
        <view class="winnerlisttitle">
          <image class="winerlistimgtitle" src="/image/detail_winner.png"/>
        </view>
        <view class="winnerlistcontent">
          <view class="winnerinforoot winnerlistItembgodd">
            <view class="winnernum">名次</view>
            <view class="winnername">参与者</view>
            <view class="winnerVotes">得票</view>
          </view>
          <block wx:for="{{winnersinfolist}}" wx:key="{{index}}">
            <view class="winnerinforoot {{index%2 ==1 ?'winnerlistItembgodd':''}}">
              <view class="winnernum">
                <block wx:if="{{item.rank == 1}}">
                  <image class="winnericon" src="{{winnericons[0]}}"/>
                </block>
                <block wx:elif="{{item.rank == 2}}">
                  <image class="winnericon" src="{{winnericons[1]}}" />
                </block>
                <block wx:elif="{{item.rank == 3}}">
                  <image class="winnericon" src="{{winnericons[2]}}"/>
                </block>
                <block wx:else>
                  <view class="winnericon2">{{item.rank}}</view>
                </block>
                <text class="winnernum2">NO.{{item.rank}}</text>
              </view>
              <view class="winnername">{{item.name}}</view>
              <view class="winnerVotes">{{item.vote}}</view>
            </view>
          </block>
        </view>
    </view>
    <view class="activityIntr dashedline">
      <view class="activityIntrTitle">
        <view class="innerLine"/>
        <view class="intrTxt"> 活动说明 </view>
        <view class="innerLine"/>
      </view>
      <block wx:for="{{activityIntrParts}}" wx:for-item="part" wx:key="{{this}}">
        <text class="content">{{part}}</text>
      </block>
      <text class="content">活动规则:{{activityRule}}</text>
      <text class="content">活动时间:{{activityTimeDesc}}</text>
    </view>
    <view class="examplesair dashedline" wx:if="{{examples.length >0}}">
      <block wx:for="{{examples}}" wx:key="{{index}}">
        <view class="example">
          <view class="expimg">
            <image mode="aspectFill"  class="imginner" src="{{item.img}}"/>
          </view>
          <view class='exptxt'>{{item.title}}</view>
        </view>
      </block>
    </view>
    <view class="prizeIntr dashedline"  wx:if="{{prizeList.length >0}}">
      <view class="activityIntrTitle">
        <view class="innerLine"/>
        <view class="intrTxt"> 奖品区 </view>
        <view class="innerLine"/>
      </view>
      <block wx:for="{{prizeList}}" wx:for-item="prizeItem" wx:key="{{this}}">
        <text class="prizeTitle">{{prizeItem.rankDesc}} {{prizeItem.title}}</text>
        <view class="prizeImg" wx:if='{{prizeItem.img != ""}}'>
          <image mode="aspectFill"  class="prizeImgItem" src="{{prizeItem.img}}"/>
        </view>
      </block>
    </view>
    <view class="bottom">
        <view class="bottomArea"></view>
    </view>

    <view class="buttonviews">
      <view class="both  subbuttonviews" wx:if="{{step == 1}}">
        <view class="btnview" hover hover-class="btn_hover" bindtap="takein" wx:if="{{!joined}}">去参加</view>
        <view class="btnview btnviewcancel" wx:if="{{joined}}">已参加</view>
        <view class="split"/>
        <view class="btnview" hover hover-class="btn_hover" bindtap="govote">投票</view>
      </view>
      <view class="showonly  subbuttonviews" wx:if="{{step ==0}}">
        <view class="btnview btnviewcancel">活动尚未开始</view>
      </view>

      <view class="showonly  subbuttonviews" wx:if="{{step ==2}}">
        <view class="btnview btnviewcancel" bindtap="seevote">投票结果统计中</view>
      </view>

      <view class="btnone  subbuttonviews" wx:if="{{step ==3}}">
        <view class="btnview" hover hover-class="btn_hover" bindtap="seevote">查看结果</view>
      </view>
    </view>
    <view class="joinallviews" hidden="{{!isshowjoinin}}" bindtap="cancel">
      <view class= "joininpart">
        <view class="btnlocal" hover hover-class="local_hover1" bindtap="addphoto">添加照片</view>
        <view class="btnlocal2" hover hover-class="local_hover2" bindtap="selectalbum">选择已有照片</view>
      </view>
    </view>
</view>
